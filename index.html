<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Watch Report</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>The Watch Report</h1>
    <div id="news-container" class="news-grid"></div>
  </div>

  <script>
    async function loadNews() {
      try {
        const response = await fetch('data/news.json');
        const news = await response.json();
        const container = document.getElementById('news-container');

        if (news.length === 0) {
          container.innerHTML = '<p>No news articles found.</p>';
          return;
        }

        const youtubeSources = [
          "Teddy Baldassarre",
          "Jenni Elle",
          "Nico Leonard",
          "The Time Teller",
          "Andrew Morgan",
          "Horological Society of New York"
        ];

        // Top story
        const topStory = news[0];
        const topIsYouTube = youtubeSources.includes(topStory.source);
        const topCard = document.createElement('div');
        topCard.className = 'news-card top-story';

        const topThumbnail = topStory.thumbnail ? `<img src="${topStory.thumbnail}" alt="${topStory.title}"/>` : '';
        topCard.innerHTML = `
          ${topThumbnail}
          <h2>${topStory.title}</h2>
          <a href="${topStory.link}" target="_blank">${topIsYouTube ? "Watch Video" : "Read more"}</a>
          <hr>
        `;
        container.appendChild(topCard);

        // Remaining stories
        news.slice(1).forEach(item => {
          const isYouTube = youtubeSources.includes(item.source);
          const card = document.createElement('div');
          card.className = 'news-card';
          const thumbnail = item.thumbnail ? `<img src="${item.thumbnail}" alt="${item.title}"/>` : '';
          card.innerHTML = `
            ${thumbnail}
            <h2>${item.title}</h2>
            <a href="${item.link}" target="_blank">${isYouTube ? "Watch Video" : "Read more"}</a>
            <hr>
          `;
          container.appendChild(card);
        });
      } catch (error) {
        console.error("Error loading news:", error);
        document.getElementById('news-container').innerHTML = '<p>Unable to load news.</p>';
      }
    }

    loadNews();
  </script>
</body>
</html>